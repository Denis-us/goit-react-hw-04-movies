{"version":3,"sources":["components/MovieDetails/MovieDetails.js","pages/MovieDetailsPage/MovieDetailsPage.js","services/movieApi.js","components/MovieDetails/MovieDetails.module.css","pages/MovieDetailsPage/MovieDetailsPage.module.css"],"names":["MovieDetails","poster_path","title","overview","genres","vote_average","className","styles","details","src","alt","descriptionBlock","generalTitle","descriptionPart","listGenres","map","genre","listEl","name","id","CastPage","lazy","ReviewsPage","MovieDetailsPage","movieId","useParams","match","useRouteMatch","history","useHistory","location","useLocation","useState","movie","setMovie","useEffect","moviesAPI","then","catch","console","log","Error","Button","type","onClick","state","search","push","from","variant","color","style","addInfo","list","to","pathname","url","fallback","path","BASE_URL","API_KEY","fetchTrend","axios","get","response","data","results","fetchMoviesBySearch","page","fetchMovieDetails","fetchMovieCredits","fetchMoviesReviews","module","exports"],"mappings":"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","file":"static/js/movie-details-page.fade9c5a.chunk.js","sourcesContent":["import styles from \"../MovieDetails/MovieDetails.module.css\";\n\nexport default function MovieDetails({\n  poster_path,\n  title,\n  overview,\n  genres,\n  vote_average,\n}) {\n  return (\n    <div className={styles.details}>\n      <img src={`https://image.tmdb.org/t/p/w300${poster_path}`} alt={title} />\n      <div className={styles.descriptionBlock}>\n        <h2 className={styles.generalTitle}>{title}</h2>\n        <p className={styles.descriptionPart}>\n          User Score: <span>{vote_average * 10}%</span>\n        </p>\n        <h3 className={styles.title}>Overview</h3>\n        <p className={styles.descriptionPart}>{overview}</p>\n        <h4 className={styles.title}>Genres</h4>\n        <ul className={styles.listGenres}>\n          {genres &&\n            genres.map((genre) => (\n              <li key={genre.id} className={styles.listEl}>\n                {genre.name}\n              </li>\n            ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect, lazy, Suspense } from \"react\";\nimport {\n  useParams,\n  NavLink,\n  Route,\n  useRouteMatch,\n  useHistory,\n  useLocation,\n} from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nimport * as moviesAPI from \"../../services/movieApi\";\nimport MovieDetails from \"../../components/MovieDetails/MovieDetails\";\nimport CustomLoader from \"../../components/Loader/Loader\";\nimport style from \"./MovieDetailsPage.module.css\";\n\nconst CastPage = lazy(() =>\n  import(\"../CastPage/CastPage.js\" /* webpackChunkName: \"CastPage\" */)\n);\nconst ReviewsPage = lazy(() =>\n  import(\"../ReviewsPage/ReviewsPage\" /* webpackChunkName: \"ReviewsPage\" */)\n);\n\nexport default function MovieDetailsPage() {\n  const { movieId } = useParams();\n  const match = useRouteMatch();\n  const history = useHistory();\n  const location = useLocation();\n\n  const [movie, setMovie] = useState({\n    poster_path: null,\n    title: null,\n    overview: null,\n    vote_average: null,\n    genres: null,\n    id: null,\n  });\n\n  useEffect(() => {\n    moviesAPI\n      .fetchMovieDetails(movieId)\n      .then(({ poster_path, title, overview, vote_average, genres, id }) =>\n        setMovie({\n          poster_path,\n          title,\n          overview,\n          genres,\n          vote_average,\n          id,\n        })\n      )\n      .catch(console.log(Error));\n  }, [movieId]);\n\n  const buttonGoBack = () => {\n    if (location?.state?.search) {\n      return history.push(`?query=${location?.state?.search}`);\n    }\n    history.push(location?.state?.from ?? \"/\");\n  };\n\n  return (\n    <>\n      <Button\n        type=\"button\"\n        onClick={buttonGoBack}\n        variant=\"outlined\"\n        color=\"primary\"\n      >\n        Go back\n      </Button>\n\n      {movie && (\n        <MovieDetails\n          poster_path={movie.poster_path}\n          title={movie.title}\n          overview={movie.overview}\n          genres={movie.genres}\n          vote_average={movie.vote_average}\n          id={movie.movieId}\n        />\n      )}\n\n      <div>\n        <h3 className={style.addInfo}>Additional information</h3>\n        <hr />\n        <ul className={style.list}>\n          <li className={style.listEl}>\n            <NavLink\n              to={{\n                pathname: `${match.url}/cast`,\n                state: {\n                  from: location?.state?.from ?? \"/\",\n                  search: location?.state?.search,\n                },\n              }}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li className={style.listEl}>\n            <NavLink\n              to={{\n                pathname: `${match.url}/reviews`,\n                state: {\n                  from: location?.state?.from ?? \"/\",\n                  search: location?.state?.search,\n                },\n              }}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n      </div>\n      <hr />\n\n      <Suspense fallback={<CustomLoader />}>\n        <Route path={`${match.path}/cast`}>\n          <CastPage />\n        </Route>\n\n        <Route path={`${match.path}/reviews`}>\n          <ReviewsPage />\n        </Route>\n      </Suspense>\n    </>\n  );\n}\n\nMovieDetailsPage.propTypes = {\n  poster_path: PropTypes.string,\n  title: PropTypes.string,\n  overview: PropTypes.string.isRequired,\n  genres: PropTypes.array.isRequired,\n  vote_average: PropTypes.number.isRequired,\n  id: PropTypes.number.isRequired,\n};\n","import axios from \"axios\";\n// const axios = require('axios');\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst API_KEY = \"b4cae661bd383c29838501f5623954e9\";\n\nexport function fetchTrend() {\n  return axios\n    .get(`${BASE_URL}/trending/all/day?api_key=${API_KEY}`)\n    .then((response) => response.data.results);\n}\n\nexport function fetchMoviesBySearch(search, page = 1) {\n  return axios\n    .get(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${search}&page=${page}include_adult=false`\n    )\n    .then((response) => response.data);\n}\n\nexport function fetchMovieDetails(movieId) {\n  return axios\n    .get(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n    .then((response) => response.data);\n}\n\nexport function fetchMovieCredits(movieId) {\n  return axios\n    .get(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    )\n    .then(({ data }) => data);\n}\n\nexport function fetchMoviesReviews(movieId, page = 1) {\n  return axios\n    .get(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=${page}`\n    )\n    .then(({ data }) => data);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listGenres\":\"MovieDetails_listGenres__12MUn\",\"listEl\":\"MovieDetails_listEl__1O03y\",\"details\":\"MovieDetails_details__2dCcz\",\"descriptionBlock\":\"MovieDetails_descriptionBlock__1zyH7\",\"generalTitle\":\"MovieDetails_generalTitle__D_trx\",\"title\":\"MovieDetails_title__1vMz0\",\"descriptionPart\":\"MovieDetails_descriptionPart__uybS9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addInfo\":\"MovieDetailsPage_addInfo__S6rED\",\"list\":\"MovieDetailsPage_list__3mqvl\",\"listEl\":\"MovieDetailsPage_listEl__YF2i4\",\"name\":\"MovieDetailsPage_name__2CVr7\"};"],"sourceRoot":""}